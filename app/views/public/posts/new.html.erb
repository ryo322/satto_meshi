<div class="container">
  <%= render 'error' %>
  <div class="row">
    <div class="col-3 mt-5">
      <h3>レシピ投稿</h3>
    </div>
  </div>

  <%= form_with(model: @post, local: true) do |f| %>
    <div class="row">
      <div class="col-4">
        <div class="mx-auto">
          <%= f.label :name, "料理名", style: "margin-right:75px;" %>
          <%= f.text_field :name, placeholder: "料理名", size: "31x1" %>
        </div>
        <div class="form-section mx-auto">
          <%= f.label :introduction, "説明", style: "margin-right:75px;" %>
          <%= f.text_area :introduction, class: "form-control", placeholder: "紹介文を入力" %>
        </div>
        <div class="form-section mx-auto">
          <%= f.label :post_image, "料理画像", style: "margin-right:75px;" %>
          <%= f.file_field :post_image %>
        </div>
      </div>

      <div class="col ml-5">
        <div class="form-group">
          <%= f.label :tag_list, "タグ（複数登録する場合は「、」で区切ってください）" %>
          <%= f.text_field :tag_list, class: 'form-control' %>
        </div>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col-6">
        <div class="recipe-ingredients form-section">
          <div class="mx-auto">
            <h2>材料</h2>
            <div id="ingredients">
              <%= f.fields_for :ingredients do |ingredient_form| %>
               <%= render 'ingredient_fields', f: ingredient_form %>
              <% end %>
              <%= link_to_add_association '＋材料を追加する', f, :ingredients %>
            </div>
          </div>
        </div>
      </div>

      <div class="col-6">
        <div class="mx-auto form-section">
          <h2>作り方</h2>
          <div id="instructions">
           <%= f.fields_for :instructions do |instruction_form| %>
             <%= render 'instruction_fields', f: instruction_form %>
           <% end %>
           <%= link_to_add_association '＋作り方を追加する', f, :instructions %>
          </div>
        </div>
      </div>
    </div>

    <div class="row my-5 justify-content-end">
      <%= f.submit "レシピを投稿する", class:"btn btn-lg btn-success" %>
    </div>
  <% end %>
</div>

